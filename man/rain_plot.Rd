% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rain_plot.R
\name{rain_plot}
\alias{rain_plot}
\title{Raincloud-style plots for between-, within-, and mixed-design data}
\usage{
rain_plot(
  data,
  dv,
  id = NULL,
  within = NULL,
  between = NULL,
  palette = "Dark2"
)
}
\arguments{
\item{data}{A \code{data.frame} containing the raw data.}

\item{dv}{A string giving the name of the numeric dependent variable column in \code{data}.}

\item{id}{A string giving the name of the participant ID column in \code{data}. Required for
within-subject and mixed designs (i.e., whenever \code{within} is non-empty).}

\item{within}{An optional character vector of within-subject factor names in \code{data}.
If non-empty, the design is treated as within- or mixed-design. Within-subject factors are
combined into a single factor used on the x-axis via \code{interaction()}.}

\item{between}{An optional character vector of between-subject factor names in \code{data}.
If non-empty, the design is treated as between- or mixed-design. The first factor is used for
colour/fill (and dodging in mixed designs); any additional factors are combined into a single
facet variable.}

\item{palette}{A string giving the name of a ColorBrewer palette passed to
\code{\link[ggplot2]{scale_fill_brewer}} and \code{\link[ggplot2]{scale_color_brewer}}.}
}
\value{
A \code{\link[ggplot2]{ggplot}} object showing violin densities (the "cloud"),
raw jittered data points (the "rain"), and cell means with ±1 SD error bars.
}
\description{
\code{rain_plot()} creates raincloud-style plots (violin + raw points + mean ± SD)
for between-, within-, or mixed factorial designs. It:
\itemize{
\item aggregates to subject-level means for within and mixed designs to avoid pseudo-replication,
\item supports multiple within- and between-subjects factors,
\item visualises means and standard deviations for each cell.
}

When multiple factors are supplied:
\itemize{
\item all within-subject factors are combined into a single x-axis factor using \code{interaction()},
\item the first between-subject factor is mapped to colour/fill (and used for dodging in mixed designs),
\item any additional between-subject factors are combined and used for faceting (columns).
}
}
\details{
The function automatically determines the design type:
\itemize{
\item \strong{between-subjects}: \code{length(within) == 0} and \code{length(between) > 0}
\item \strong{within-subjects}:  \code{length(within) > 0} and \code{length(between) == 0}
\item \strong{mixed-design}:     \code{length(within) > 0} and \code{length(between) > 0}
}

For within and mixed designs, the data are first aggregated to subject-level means within each
unique within × between cell before computing cell means and SDs, to ensure that the summary
statistics reflect variability between participants rather than repeated trials.
}
\examples{
\dontrun{
# Simple between-subjects design
rain_plot(
  data    = mydata,
  dv      = "accuracy",
  between = "group"
)

# Within-subjects design (e.g., task is repeated within participants)
rain_plot(
  data   = mydata,
  dv     = "confidence",
  id     = "participant",
  within = "task"
)

# Mixed design: within (condition) × between (group)
rain_plot(
  data    = mydata,
  dv      = "rt",
  id      = "participant",
  within  = "condition",
  between = "group"
)

# Multiple between factors: facet by rating_condition
rain_plot(
  data    = mydata,
  dv      = "efficacy_rating",
  id      = "participant",
  between = c("outcome_condition", "rating_condition")
)

# Multiple within factors: task × time collapsed onto the x-axis
rain_plot(
  data   = mydata,
  dv     = "confidence",
  id     = "participant",
  within = c("task", "time")
)
}

}
